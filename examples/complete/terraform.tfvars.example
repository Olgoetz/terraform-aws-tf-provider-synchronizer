# AWS Configuration
aws_region = "us-east-1"

# Project Configuration
project_name      = "tfc-provider-sync-prod"
environment       = "production"
cost_center       = "infrastructure"
tfc_organization  = "my-org"
tfc_address       = "https://app.terraform.io" # or "https://tfe.example.com" for Enterprise

# Notification Configuration
notification_email = "devops@example.com"
sns_topic_display_name = "TFC Provider Sync Alerts - Production"

# VPC Configuration (Enhanced Security)
# Create a VPC with private subnets and NAT Gateway for Lambda functions
vpc_subnet_ids          = ["subnet-0123456789abcdef0", "subnet-0123456789abcdef1"]
vpc_security_group_ids  = ["sg-0123456789abcdef0"]

# KMS Encryption
create_kms_key = true
# Or use existing KMS key:
# kms_key_arn = "arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012"

# Local exec to build the lambda layer
# Otherwise you need to to do `pip install requests -t `./lambda/layer/python/`
allow_local_exec_commands = true

# Lambda Function Configuration
lambda_check_version_timeout    = 120
lambda_check_version_memory     = 256
lambda_download_upload_timeout  = 900
lambda_download_upload_memory   = 3072
lambda_download_upload_storage  = 10240

# CloudWatch Logging
lambda_log_retention_days = 30
log_level                = "INFO"

# Scheduled Execution (Every day at 2 AM UTC)
enable_stepfunctions_schedule = true
stepfunctions_schedule_expression = "cron(0 2 * * ? *)"

# S3 Upload Trigger (Automatic execution on config changes)
enable_s3_upload_trigger = true

# Version Cleanup Configuration
enable_cleanup_schedule      = true
cleanup_schedule_expression  = "cron(0 3 * * ? *)" # Daily at 3 AM UTC
keep_version_count          = 10
cleanup_dry_run             = false

# Secrets Manager Configuration
secret_recovery_window_days = 7

# Terraform Cloud Token (Store in environment variable)
# export TF_VAR_tfc_token="your-tfc-token-here"
# Or pass via -var="tfc_token=xxx" on terraform apply
